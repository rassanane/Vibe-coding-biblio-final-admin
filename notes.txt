

Pour démarrer :
view terminal : ng serve




!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
for the moment, i think, i deactivate CORS verification and i use the proxy.conf.json
to deploy in prod, i must use the url defined in environment file 



deploy in server :
ng build

we will deploy app in nginx

transfer ftp the directory in dist to server

i m not sure ?????
sudo chmod 777 /var/www/html/projects/angular/bibliotheque-admin/browser

sudo nano /etc/nginx/sites-available/default


server {
    listen 4201;
    server_name 192.168.1.92;

    root /var/www/html/projects/angular/bibliotheque-admin/browser;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }



  # proxy your backend
  location /api/ {
    proxy_pass http://localhost:8080;  # adjust to your backend
    proxy_http_version 1.1;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
  }


}


sudo systemctl restart nginx


Server logs:
sudo tail -n 200 /var/log/nginx/error.log



!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Prod :
- Adress API (local de l'extérieur) : `src/environments/environment.prod.ts` → `apiUrl` = `http://176.177.13.58:1982/api`.
- Pour l’utiliser, build en prod:
 `ng build --configuration=production` puis déployer ces artefacts.



!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Docker :
Je n'ai pas pu l'installer dans mon mac
je vais utiliser mon serveur ubuntu 

tranférer le projet dans le dossier :
/var/www/html/projects/Docker/
puis exécuter les commandes docker

!!!!!!!!!
suite a des problemes de compatibilités system, codex a modifié Dockerfile 
et a créer un nouveau fichier .dockerignore


build prod pour accéder a l'api de l'exterieur :
Je l'ai fait dans mon poste de travail MAc avant de transférer :
ng build --configuration=production

- Ajouts: `Dockerfile` (multi‑stage Node build + Nginx) et `nginx.conf` (fallback SPA).
- Build image: sudo docker build --no-cache -t bibliotheque-admin:latest .
voir l'image :
sudo docker image ls
Si on veut tester l'application ?
- Run conteneur: sudo docker run -p 8080:80 bibliotheque-admin:latest

sudo docker tag bibliotheque-admin:latest rassanane/bibliotheque-admin:latest

Se connecter au serveur :
sudo docker logout && sudo docker login

sudo docker push rassanane/bibliotheque-admin:latest

Supprimer l'image :
sudo docker image ls
sudo docker rmi 533fd48a1f9e

!!!!!!!!!!!!!!!!!!!
vider le répertoie créé sur le serveur pour libérer l'espace :
cd ..
sudo rm -r bibliotheque-admin/


